#include <assert.h>
#include <stddef.h>
#include <stdlib.h>
#include <string.h>

#include "goat.h"

#include "irc.h"

const char *const irc_strings[GOAT_IRC_LAST] = {
    [GOAT_IRC_RPL_WELCOME]              = "001",
    [GOAT_IRC_RPL_YOURHOST]             = "002",
    [GOAT_IRC_RPL_CREATED]              = "003",
    [GOAT_IRC_RPL_MYINFO]               = "004",
    [GOAT_IRC_RPL_BOUNCE]               = "005",
    [GOAT_IRC_RPL_TRACELINK]            = "200",
    [GOAT_IRC_RPL_TRACECONNECTING]      = "201",
    [GOAT_IRC_RPL_TRACEHANDSHAKE]       = "202",
    [GOAT_IRC_RPL_TRACEUNKNOWN]         = "203",
    [GOAT_IRC_RPL_TRACEOPERATOR]        = "204",
    [GOAT_IRC_RPL_TRACEUSER]            = "205",
    [GOAT_IRC_RPL_TRACESERVER]          = "206",
    [GOAT_IRC_RPL_TRACESERVICE]         = "207",
    [GOAT_IRC_RPL_TRACENEWTYPE]         = "208",
    [GOAT_IRC_RPL_TRACECLASS]           = "209",
    [GOAT_IRC_RPL_TRACERECONNECT]       = "210",
    [GOAT_IRC_RPL_STATSLINKINFO]        = "211",
    [GOAT_IRC_RPL_STATSCOMMANDS]        = "212",
    [GOAT_IRC_RPL_STATSCLINE]           = "213",
    [GOAT_IRC_RPL_STATSNLINE]           = "214",
    [GOAT_IRC_RPL_STATSILINE]           = "215",
    [GOAT_IRC_RPL_STATSKLINE]           = "216",
    [GOAT_IRC_RPL_STATSQLINE]           = "217",
    [GOAT_IRC_RPL_STATSYLINE]           = "218",
    [GOAT_IRC_RPL_ENDOFSTATS]           = "219",
    [GOAT_IRC_RPL_UMODEIS]              = "221",
    [GOAT_IRC_RPL_SERVICEINFO]          = "231",
    [GOAT_IRC_RPL_ENDOFSERVICES]        = "232",
    [GOAT_IRC_RPL_SERVICE]              = "233",
    [GOAT_IRC_RPL_SERVLIST]             = "234",
    [GOAT_IRC_RPL_SERVLISTEND]          = "235",
    [GOAT_IRC_RPL_STATSVLINE]           = "240",
    [GOAT_IRC_RPL_STATSLLINE]           = "241",
    [GOAT_IRC_RPL_STATSUPTIME]          = "242",
    [GOAT_IRC_RPL_STATSOLINE]           = "243",
    [GOAT_IRC_RPL_STATSHLINE]           = "244",
    [GOAT_IRC_RPL_STATSSLINE]           = "245",
    [GOAT_IRC_RPL_STATSPING]            = "246",
    [GOAT_IRC_RPL_STATSBLINE]           = "247",
    [GOAT_IRC_RPL_STATSDLINE]           = "250",
    [GOAT_IRC_RPL_LUSERCLIENT]          = "251",
    [GOAT_IRC_RPL_LUSEROP]              = "252",
    [GOAT_IRC_RPL_LUSERUNKNOWN]         = "253",
    [GOAT_IRC_RPL_LUSERCHANNELS]        = "254",
    [GOAT_IRC_RPL_LUSERME]              = "255",
    [GOAT_IRC_RPL_ADMINME]              = "256",
    [GOAT_IRC_RPL_ADMINLOC1]            = "257",
    [GOAT_IRC_RPL_ADMINLOC2]            = "258",
    [GOAT_IRC_RPL_ADMINEMAIL]           = "259",
    [GOAT_IRC_RPL_TRACELOG]             = "261",
    [GOAT_IRC_RPL_TRACEEND]             = "262",
    [GOAT_IRC_RPL_TRYAGAIN]             = "263",
    [GOAT_IRC_RPL_NONE]                 = "300",
    [GOAT_IRC_RPL_AWAY]                 = "301",
    [GOAT_IRC_RPL_USERHOST]             = "302",
    [GOAT_IRC_RPL_ISON]                 = "303",
    [GOAT_IRC_RPL_UNAWAY]               = "305",
    [GOAT_IRC_RPL_NOWAWAY]              = "306",
    [GOAT_IRC_RPL_WHOISUSER]            = "311",
    [GOAT_IRC_RPL_WHOISSERVER]          = "312",
    [GOAT_IRC_RPL_WHOISOPERATOR]        = "313",
    [GOAT_IRC_RPL_WHOWASUSER]           = "314",
    [GOAT_IRC_RPL_ENDOFWHO]             = "315",
    [GOAT_IRC_RPL_WHOISCHANOP]          = "316",
    [GOAT_IRC_RPL_WHOISIDLE]            = "317",
    [GOAT_IRC_RPL_ENDOFWHOIS]           = "318",
    [GOAT_IRC_RPL_WHOISCHANNELS]        = "319",
    [GOAT_IRC_RPL_LISTSTART]            = "321",
    [GOAT_IRC_RPL_LIST]                 = "322",
    [GOAT_IRC_RPL_LISTEND]              = "323",
    [GOAT_IRC_RPL_CHANNELMODEIS]        = "324",
    [GOAT_IRC_RPL_UNIQOPIS]             = "325",
    [GOAT_IRC_RPL_NOTOPIC]              = "331",
    [GOAT_IRC_RPL_TOPIC]                = "332",
    [GOAT_IRC_RPL_INVITING]             = "341",
    [GOAT_IRC_RPL_SUMMONING]            = "342",
    [GOAT_IRC_RPL_INVITELIST]           = "346",
    [GOAT_IRC_RPL_ENDOFINVITELIST]      = "347",
    [GOAT_IRC_RPL_EXCEPTLIST]           = "348",
    [GOAT_IRC_RPL_ENDOFEXCEPTLIST]      = "349",
    [GOAT_IRC_RPL_VERSION]              = "351",
    [GOAT_IRC_RPL_WHOREPLY]             = "352",
    [GOAT_IRC_RPL_NAMREPLY]             = "353",
    [GOAT_IRC_RPL_KILLDONE]             = "361",
    [GOAT_IRC_RPL_CLOSING]              = "362",
    [GOAT_IRC_RPL_CLOSEEND]             = "363",
    [GOAT_IRC_RPL_LINKS]                = "364",
    [GOAT_IRC_RPL_ENDOFLINKS]           = "365",
    [GOAT_IRC_RPL_ENDOFNAMES]           = "366",
    [GOAT_IRC_RPL_BANLIST]              = "367",
    [GOAT_IRC_RPL_ENDOFBANLIST]         = "368",
    [GOAT_IRC_RPL_ENDOFWHOWAS]          = "369",
    [GOAT_IRC_RPL_INFO]                 = "371",
    [GOAT_IRC_RPL_MOTD]                 = "372",
    [GOAT_IRC_RPL_INFOSTART]            = "373",
    [GOAT_IRC_RPL_ENDOFINFO]            = "374",
    [GOAT_IRC_RPL_MOTDSTART]            = "375",
    [GOAT_IRC_RPL_ENDOFMOTD]            = "376",
    [GOAT_IRC_RPL_YOUREOPER]            = "381",
    [GOAT_IRC_RPL_REHASHING]            = "382",
    [GOAT_IRC_RPL_YOURESERVICE]         = "383",
    [GOAT_IRC_RPL_MYPORTIS]             = "384",
    [GOAT_IRC_RPL_TIME]                 = "391",
    [GOAT_IRC_RPL_USERSSTART]           = "392",
    [GOAT_IRC_RPL_USERS]                = "393",
    [GOAT_IRC_RPL_ENDOFUSERS]           = "394",
    [GOAT_IRC_RPL_NOUSERS]              = "395",
    [GOAT_IRC_ERR_NOSUCHNICK]           = "401",
    [GOAT_IRC_ERR_NOSUCHSERVER]         = "402",
    [GOAT_IRC_ERR_NOSUCHCHANNEL]        = "403",
    [GOAT_IRC_ERR_CANNOTSENDTOCHAN]     = "404",
    [GOAT_IRC_ERR_TOOMANYCHANNELS]      = "405",
    [GOAT_IRC_ERR_WASNOSUCHNICK]        = "406",
    [GOAT_IRC_ERR_TOOMANYTARGETS]       = "407",
    [GOAT_IRC_ERR_NOSUCHSERVICE]        = "408",
    [GOAT_IRC_ERR_NOORIGIN]             = "409",
    [GOAT_IRC_ERR_NORECIPIENT]          = "411",
    [GOAT_IRC_ERR_NOTEXTTOSEND]         = "412",
    [GOAT_IRC_ERR_NOTOPLEVEL]           = "413",
    [GOAT_IRC_ERR_WILDTOPLEVEL]         = "414",
    [GOAT_IRC_ERR_BADMASK]              = "415",
    [GOAT_IRC_ERR_UNKNOWNCOMMAND]       = "421",
    [GOAT_IRC_ERR_NOMOTD]               = "422",
    [GOAT_IRC_ERR_NOADMININFO]          = "423",
    [GOAT_IRC_ERR_FILEERROR]            = "424",
    [GOAT_IRC_ERR_NONICKNAMEGIVEN]      = "431",
    [GOAT_IRC_ERR_ERRONEUSNICKNAME]     = "432",
    [GOAT_IRC_ERR_NICKNAMEINUSE]        = "433",
    [GOAT_IRC_ERR_NICKCOLLISION]        = "436",
    [GOAT_IRC_ERR_UNAVAILRESOURCE]      = "437",
    [GOAT_IRC_ERR_USERNOTINCHANNEL]     = "441",
    [GOAT_IRC_ERR_NOTONCHANNEL]         = "442",
    [GOAT_IRC_ERR_USERONCHANNEL]        = "443",
    [GOAT_IRC_ERR_NOLOGIN]              = "444",
    [GOAT_IRC_ERR_SUMMONDISABLED]       = "445",
    [GOAT_IRC_ERR_USERSDISABLED]        = "446",
    [GOAT_IRC_ERR_NOTREGISTERED]        = "451",
    [GOAT_IRC_ERR_NEEDMOREPARAMS]       = "461",
    [GOAT_IRC_ERR_ALREADYREGISTRED]     = "462",
    [GOAT_IRC_ERR_NOPERMFORHOST]        = "463",
    [GOAT_IRC_ERR_PASSWDMISMATCH]       = "464",
    [GOAT_IRC_ERR_YOUREBANNEDCREEP]     = "465",
    [GOAT_IRC_ERR_YOUWILLBEBANNED]      = "466",
    [GOAT_IRC_ERR_KEYSET]               = "467",
    [GOAT_IRC_ERR_CHANNELISFULL]        = "471",
    [GOAT_IRC_ERR_UNKNOWNMODE]          = "472",
    [GOAT_IRC_ERR_INVITEONLYCHAN]       = "473",
    [GOAT_IRC_ERR_BANNEDFROMCHAN]       = "474",
    [GOAT_IRC_ERR_BADCHANNELKEY]        = "475",
    [GOAT_IRC_ERR_BADCHANMASK]          = "476",
    [GOAT_IRC_ERR_NOCHANMODES]          = "477",
    [GOAT_IRC_ERR_BANLISTFULL]          = "478",
    [GOAT_IRC_ERR_NOPRIVILEGES]         = "481",
    [GOAT_IRC_ERR_CHANOPRIVSNEEDED]     = "482",
    [GOAT_IRC_ERR_CANTKILLSERVER]       = "483",
    [GOAT_IRC_ERR_RESTRICTED]           = "484",
    [GOAT_IRC_ERR_UNIQOPPRIVSNEEDED]    = "485",
    [GOAT_IRC_ERR_NOOPERHOST]           = "491",
    [GOAT_IRC_ERR_NOSERVICEHOST]        = "492",
    [GOAT_IRC_ERR_UMODEUNKNOWNFLAG]     = "501",
    [GOAT_IRC_ERR_USERSDONTMATCH]       = "502",

    [GOAT_IRC_ADMIN]    = "ADMIN",
    [GOAT_IRC_AWAY]     = "AWAY",
    [GOAT_IRC_CONNECT]  = "CONNECT",
    [GOAT_IRC_DIE]      = "DIE",
    [GOAT_IRC_ERROR]    = "ERROR",
    [GOAT_IRC_INFO]     = "INFO",
    [GOAT_IRC_INVITE]   = "INVITE",
    [GOAT_IRC_ISON]     = "ISON",
    [GOAT_IRC_JOIN]     = "JOIN",
    [GOAT_IRC_KICK]     = "KICK",
    [GOAT_IRC_KILL]     = "KILL",
    [GOAT_IRC_LINKS]    = "LINKS",
    [GOAT_IRC_LIST]     = "LIST",
    [GOAT_IRC_LUSERS]   = "LUSERS",
    [GOAT_IRC_MODE]     = "MODE",
    [GOAT_IRC_MOTD]     = "MOTD",
    [GOAT_IRC_NAMES]    = "NAMES",
    [GOAT_IRC_NICK]     = "NICK",
    [GOAT_IRC_NOTICE]   = "NOTICE",
    [GOAT_IRC_OPER]     = "OPER",
    [GOAT_IRC_PART]     = "PART",
    [GOAT_IRC_PASS]     = "PASS",
    [GOAT_IRC_PING]     = "PING",
    [GOAT_IRC_PONG]     = "PONG",
    [GOAT_IRC_PRIVMSG]  = "PRIVMSG",
    [GOAT_IRC_QUIT]     = "QUIT",
    [GOAT_IRC_REHASH]   = "REHASH",
    [GOAT_IRC_RESTART]  = "RESTART",
    [GOAT_IRC_SERVICE]  = "SERVICE",
    [GOAT_IRC_SERVLIST] = "SERVLIST",
    [GOAT_IRC_SQUERY]   = "SQUERY",
    [GOAT_IRC_SQUIT]    = "SQUIT",
    [GOAT_IRC_STATS]    = "STATS",
    [GOAT_IRC_SUMMON]   = "SUMMON",
    [GOAT_IRC_TIME]     = "TIME",
    [GOAT_IRC_TOPIC]    = "TOPIC",
    [GOAT_IRC_TRACE]    = "TRACE",
    [GOAT_IRC_USER]     = "USER",
    [GOAT_IRC_USERHOST] = "USERHOST",
    [GOAT_IRC_USERS]    = "USERS",
    [GOAT_IRC_VERSION]  = "VERSION",
    [GOAT_IRC_WALLOPS]  = "WALLOPS",
    [GOAT_IRC_WHO]      = "WHO",
    [GOAT_IRC_WHOIS]    = "WHOIS",
    [GOAT_IRC_WHOWAS]   = "WHOWAS",
};

const EventPair irc_events[GOAT_IRC_LAST] = {
    [GOAT_IRC_RPL_WELCOME]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_YOURHOST]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_CREATED]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_MYINFO]               = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_BOUNCE]               = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRACELINK]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRACECONNECTING]      = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRACEHANDSHAKE]       = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRACEUNKNOWN]         = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRACEOPERATOR]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRACEUSER]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRACESERVER]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRACESERVICE]         = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRACENEWTYPE]         = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRACECLASS]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRACERECONNECT]       = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSLINKINFO]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSCOMMANDS]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSCLINE]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSNLINE]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSILINE]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSKLINE]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSQLINE]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSYLINE]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ENDOFSTATS]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_UMODEIS]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_SERVICEINFO]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ENDOFSERVICES]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_SERVICE]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_SERVLIST]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_SERVLISTEND]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSVLINE]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSLLINE]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSUPTIME]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSOLINE]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSHLINE]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSSLINE]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSPING]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSBLINE]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_STATSDLINE]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_LUSERCLIENT]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_LUSEROP]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_LUSERUNKNOWN]         = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_LUSERCHANNELS]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_LUSERME]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ADMINME]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ADMINLOC1]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ADMINLOC2]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ADMINEMAIL]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRACELOG]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRACEEND]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TRYAGAIN]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_NONE]                 = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_AWAY]                 = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_USERHOST]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ISON]                 = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_UNAWAY]               = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_NOWAWAY]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_WHOISUSER]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_WHOISSERVER]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_WHOISOPERATOR]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_WHOWASUSER]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ENDOFWHO]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_WHOISCHANOP]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_WHOISIDLE]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ENDOFWHOIS]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_WHOISCHANNELS]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_LISTSTART]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_LIST]                 = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_LISTEND]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_CHANNELMODEIS]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_UNIQOPIS]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_NOTOPIC]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TOPIC]                = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_INVITING]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_SUMMONING]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_INVITELIST]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ENDOFINVITELIST]      = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_EXCEPTLIST]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ENDOFEXCEPTLIST]      = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_VERSION]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_WHOREPLY]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_NAMREPLY]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_KILLDONE]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_CLOSING]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_CLOSEEND]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_LINKS]                = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ENDOFLINKS]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ENDOFNAMES]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_BANLIST]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ENDOFBANLIST]         = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ENDOFWHOWAS]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_INFO]                 = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_MOTD]                 = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_INFOSTART]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ENDOFINFO]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_MOTDSTART]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ENDOFMOTD]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_YOUREOPER]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_REHASHING]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_YOURESERVICE]         = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_MYPORTIS]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_TIME]                 = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_USERSSTART]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_USERS]                = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_ENDOFUSERS]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RPL_NOUSERS]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOSUCHNICK]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOSUCHSERVER]         = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOSUCHCHANNEL]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_CANNOTSENDTOCHAN]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_TOOMANYCHANNELS]      = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_WASNOSUCHNICK]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_TOOMANYTARGETS]       = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOSUCHSERVICE]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOORIGIN]             = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NORECIPIENT]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOTEXTTOSEND]         = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOTOPLEVEL]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_WILDTOPLEVEL]         = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_BADMASK]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_UNKNOWNCOMMAND]       = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOMOTD]               = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOADMININFO]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_FILEERROR]            = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NONICKNAMEGIVEN]      = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_ERRONEUSNICKNAME]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NICKNAMEINUSE]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NICKCOLLISION]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_UNAVAILRESOURCE]      = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_USERNOTINCHANNEL]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOTONCHANNEL]         = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_USERONCHANNEL]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOLOGIN]              = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_SUMMONDISABLED]       = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_USERSDISABLED]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOTREGISTERED]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NEEDMOREPARAMS]       = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_ALREADYREGISTRED]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOPERMFORHOST]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_PASSWDMISMATCH]       = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_YOUREBANNEDCREEP]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_YOUWILLBEBANNED]      = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_KEYSET]               = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_CHANNELISFULL]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_UNKNOWNMODE]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_INVITEONLYCHAN]       = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_BANNEDFROMCHAN]       = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_BADCHANNELKEY]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_BADCHANMASK]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOCHANMODES]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_BANLISTFULL]          = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOPRIVILEGES]         = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_CHANOPRIVSNEEDED]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_CANTKILLSERVER]       = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_RESTRICTED]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_UNIQOPPRIVSNEEDED]    = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOOPERHOST]           = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_NOSERVICEHOST]        = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_UMODEUNKNOWNFLAG]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERR_USERSDONTMATCH]       = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },

    [GOAT_IRC_ADMIN]    = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_AWAY]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_CONNECT]  = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_DIE]      = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ERROR]    = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_INFO]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_INVITE]   = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_ISON]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_JOIN]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_KICK]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_KILL]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_LINKS]    = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_LIST]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_LUSERS]   = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_MODE]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_MOTD]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_NAMES]    = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_NICK]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_NOTICE]   = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_OPER]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_PART]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_PASS]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_PING]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_PONG]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_PRIVMSG]  = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_QUIT]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_REHASH]   = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_RESTART]  = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_SERVICE]  = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_SERVLIST] = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_SQUERY]   = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_SQUIT]    = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_STATS]    = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_SUMMON]   = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_TIME]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_TOPIC]    = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_TRACE]    = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_USER]     = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_USERHOST] = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_USERS]    = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_VERSION]  = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_WALLOPS]  = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_WHO]      = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_WHOIS]    = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
    [GOAT_IRC_WHOWAS]   = { GOAT_EVENT_GENERIC, GOAT_EVENT_GENERIC },
};

static int _irc_strings_cmp(const void *key, const void *iter) {
    return strcmp((const char *) key, *(const char **) iter);
}

const char *goat_command_string(GoatCommand command) {
    assert(command >= GOAT_IRC_FIRST);
    assert(command < GOAT_IRC_LAST);

    if (command >= GOAT_IRC_FIRST && command < GOAT_IRC_LAST)  return irc_strings[command];

    return NULL;
}

int goat_command(const char *command_string, GoatCommand *command) {
    assert(command_string != NULL);
    assert(command != NULL);

    static const size_t width = sizeof(irc_strings[0]);
    static const size_t nel = sizeof(irc_strings) / sizeof(irc_strings[0]);

    const char **ptr = bsearch(command_string, irc_strings, nel, width, _irc_strings_cmp);

    if (NULL == ptr) return -1;

    ptrdiff_t elem = ptr - irc_strings;

    if (NULL != command) *command = (GoatCommand) elem;

    return 0;
}
